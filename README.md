# Anti-Translate

ä¸€å€‹è¼•é‡ç´šçš„ JavaScript Libraryï¼Œç”¨æ–¼åµæ¸¬å’Œé˜²æ­¢ç¶²é è¢«ç€è¦½å™¨ç¿»è­¯åŠŸèƒ½èª¤è­¯ã€‚

## å°ˆæ¡ˆç·£èµ·ï¼šä¸€å ´ç¿»è­¯é¬§åŠ‡

![æ–°èæˆªåœ–](img/news.png)

> **ã€Œå°åŒ—å¸‚æ”¿åºœã€è¢« Google ç¿»è­¯æˆã€Œä¸Šæµ·å¸‚æ”¿åºœã€ï¼Œç„¶å¾Œå‘¢ï¼Ÿ**

æŸä½ç«‹å§”å¤§äººèªªï¼šã€Œç¶²ç«™æ‡‰è©²è¦ç¦æ­¢ç¿»è­¯ï¼Œå« Google æ”¹ç³»çµ±ï¼ã€

å•Šå°å°å°ï¼Œå› ç‚º Google ç¿»è­¯ä¸æº–ï¼Œæ‰€ä»¥æˆ‘å€‘å°±ä¸è¦è®“ä½¿ç”¨è€…ç¿»è­¯äº†ã€‚é€™é‚è¼¯å®Œç¾åˆ°æˆ‘å·®é»ä»¥ç‚ºæˆ‘åœ¨çœ‹å–œåŠ‡ã€‚ğŸ¤¡

ä½†æ˜¯ï¼Œ**èˆ‡å…¶åœ¨é‚£é‚Šåµè¦ä¸è¦å‘Š Googleã€è©²ä¸è©²é“æ­‰**ï¼Œä¸å¦‚æˆ‘å€‘å·¥ç¨‹å¸«è‡ªå·±ä¾†è§£æ±ºé€™å€‹å•é¡Œå§ï¼

æ‰€ä»¥é€™å€‹å°ˆæ¡ˆå°±èª•ç”Ÿäº† â€”â€”

- ä¸æƒ³è¢«èª¤è­¯ï¼Ÿæˆ‘å¹«ä½ åµæ¸¬ï¼ ğŸ”
- ç¿»è­¯æœ‰å•é¡Œï¼Ÿæˆ‘å¹«ä½ é‚„åŸï¼ ğŸ”„
- æ”¿æ²»å£æ°´æˆ°ï¼Ÿæˆ‘å¹«ä½ çœä¸‹æ™‚é–“å»å¯« Codeï¼ ğŸ’»

**ã€ŒæŠ€è¡“å•é¡Œï¼Œç”¨æŠ€è¡“è§£æ±ºã€‚ã€** å°±é€™éº¼ç°¡å–®ã€‚

---

## ç¤ºç¯„ç•«é¢

![Demo](img/demo.png)

## åŠŸèƒ½ç‰¹è‰²

- ğŸ” **æ™ºèƒ½åµæ¸¬** - è‡ªå‹•åµæ¸¬ç¶²é æ˜¯å¦è¢« Google Chromeã€Firefox ç­‰ç€è¦½å™¨ç¿»è­¯
- âš ï¸ **å³æ™‚è­¦å‘Š** - ç•¶åµæ¸¬åˆ°ç¿»è­¯æ™‚ï¼Œç«‹å³é¡¯ç¤ºè­¦å‘Šå½ˆçª—æé†’ä½¿ç”¨è€…
- ğŸ”„ **è‡ªå‹•é‚„åŸ** - å¯é¸æ“‡è‡ªå‹•å°‡è¢«ç¿»è­¯çš„å…§å®¹é‚„åŸç‚ºåŸå§‹èªè¨€
- âš¡ **å‹•æ…‹æ”¯æ´** - æ”¯æ´ Ajaxã€Reactã€Vue ç­‰å‹•æ…‹ç”Ÿæˆçš„å…§å®¹
- ğŸš€ **é›¶ä¾è³´** - ç´” Vanilla JavaScriptï¼Œä¸ä¾è³´ä»»ä½•æ¡†æ¶
- ğŸ’ª **è¼•é‡ç´š** - å£“ç¸®å¾Œå°æ–¼ 10KB

## ç‚ºä»€éº¼éœ€è¦ Anti-Translateï¼Ÿ

è¨±å¤šæŠ€è¡“æ–‡ä»¶ã€å°ˆæœ‰åè©æˆ–ç‰¹å®šé ˜åŸŸçš„å…§å®¹åœ¨ç¶“éç€è¦½å™¨è‡ªå‹•ç¿»è­¯å¾Œï¼Œå¸¸å¸¸æœƒç”¢ç”Ÿèª¤è­¯ï¼Œå°è‡´ç†è§£å›°é›£ç”šè‡³éŒ¯èª¤ã€‚Anti-Translate æä¾›äº†ä¸€å€‹ç°¡å–®çš„è§£æ±ºæ–¹æ¡ˆï¼Œè®“é–‹ç™¼è€…å¯ä»¥ï¼š

1. åµæ¸¬é é¢ä½•æ™‚è¢«ç¿»è­¯ï¼Œä¸¦æé†’ä½¿ç”¨è€…æ³¨æ„ç¿»è­¯çš„æº–ç¢ºæ€§
2. è‡ªå‹•é˜²æ­¢é é¢è¢«ç¿»è­¯ï¼Œç¢ºä¿å…§å®¹çš„æ­£ç¢ºæ€§

## å®‰è£

### ä½¿ç”¨ npm

```bash
npm install anti-translate
```

### ç›´æ¥å¼•å…¥

```html
<script src="dist/anti-translate.min.js"></script>
```

### ES6 Module

```javascript
import AntiTranslate from 'anti-translate';
```

## å¿«é€Ÿé–‹å§‹

### åµæ¸¬æ¨¡å¼

åªåµæ¸¬ç¿»è­¯ä¸¦é¡¯ç¤ºè­¦å‘Šï¼Œä¸è‡ªå‹•é‚„åŸï¼š

```javascript
AntiTranslate.init({
  mode: 'detect',
  showWarning: true,
  warningMessage: 'åµæ¸¬åˆ°ç¶²é å·²è¢«ç¿»è­¯ï¼Œè«‹ç•™æ„å…§å®¹çš„æ­£ç¢ºæ€§ã€‚'
});
```

### é˜²è­·æ¨¡å¼

è‡ªå‹•åµæ¸¬ä¸¦é‚„åŸç¿»è­¯ï¼š

```javascript
AntiTranslate.init({
  mode: 'prevent',
  autoRevert: true
});
```

## é€²éšè¨­å®š

### å®Œæ•´è¨­å®šé¸é …

```javascript
AntiTranslate.init({
  // æ¨¡å¼: 'detect' æˆ– 'prevent'
  mode: 'detect',

  // æ˜¯å¦é¡¯ç¤ºè­¦å‘Šå½ˆçª—
  showWarning: true,

  // è‡ªè¨‚è­¦å‘Šè¨Šæ¯
  warningMessage: 'åµæ¸¬åˆ°ç¶²é å·²è¢«ç¿»è­¯ï¼Œè«‹ç•™æ„å…§å®¹çš„æ­£ç¢ºæ€§ã€‚',

  // æ˜¯å¦è‡ªå‹•é‚„åŸç¿»è­¯
  autoRevert: false,

  // æª¢æŸ¥é–“éš”ï¼ˆæ¯«ç§’ï¼‰
  checkInterval: 1000,

  // æ˜¯å¦ç›£æ§å‹•æ…‹å…§å®¹
  watchDynamic: true,

  // åµæ¸¬åˆ°ç¿»è­¯æ™‚çš„å›èª¿å‡½æ•¸
  onDetected: (detectionResults) => {
    console.log('Translation detected:', detectionResults);
  },

  // ç¿»è­¯è¢«é‚„åŸæ™‚çš„å›èª¿å‡½æ•¸
  onReverted: () => {
    console.log('Translation reverted');
  }
});
```

## API æ–¹æ³•

### `init(options)`

åˆå§‹åŒ– Anti-Translate ä¸¦é–‹å§‹ç›£æ§ã€‚

```javascript
AntiTranslate.init({
  mode: 'detect',
  showWarning: true
});
```

### `startWatch()`

é–‹å§‹ç›£æ§ç¿»è­¯ã€‚

```javascript
AntiTranslate.startWatch();
```

### `stopWatch()`

åœæ­¢ç›£æ§ç¿»è­¯ã€‚

```javascript
AntiTranslate.stopWatch();
```

### `revert()`

æ‰‹å‹•é‚„åŸç¿»è­¯ã€‚

```javascript
AntiTranslate.revert();
```

### `checkTranslation()`

æ‰‹å‹•æª¢æŸ¥ç•¶å‰ç¿»è­¯ç‹€æ…‹ã€‚

```javascript
const isTranslated = AntiTranslate.checkTranslation();
console.log('Is translated:', isTranslated);
```

### `isTranslated()`

å–å¾—ç•¶å‰ç¿»è­¯ç‹€æ…‹ã€‚

```javascript
const translated = AntiTranslate.isTranslated();
```

### `updateConfig(options)`

æ›´æ–°è¨­å®šã€‚

```javascript
AntiTranslate.updateConfig({
  warningMessage: 'æ–°çš„è­¦å‘Šè¨Šæ¯'
});
```

### `destroy()`

éŠ·æ¯€å¯¦ä¾‹ä¸¦åœæ­¢æ‰€æœ‰ç›£æ§ã€‚

```javascript
AntiTranslate.destroy();
```

## ä½¿ç”¨ç¯„ä¾‹

### ç¯„ä¾‹ 1: åŸºæœ¬åµæ¸¬

```html
<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <title>Anti-Translate Demo</title>
</head>
<body>
  <h1>é˜²ç¿»è­¯ç¤ºç¯„</h1>
  <p>é€™æ˜¯ä¸€äº›æ¸¬è©¦å…§å®¹</p>

  <script src="dist/anti-translate.min.js"></script>
  <script>
    AntiTranslate.init({
      mode: 'detect',
      showWarning: true
    });
  </script>
</body>
</html>
```

### ç¯„ä¾‹ 2: è‡ªè¨‚å›èª¿

```javascript
AntiTranslate.init({
  mode: 'detect',
  onDetected: (results) => {
    // ç™¼é€åˆ†æäº‹ä»¶
    analytics.track('page_translated', {
      methods: Object.keys(results).filter(k => results[k])
    });

    // é¡¯ç¤ºè‡ªè¨‚æç¤º
    showCustomNotification('é é¢å·²è¢«ç¿»è­¯');
  }
});
```

### ç¯„ä¾‹ 3: èˆ‡ React æ•´åˆ

```javascript
import { useEffect } from 'react';
import AntiTranslate from 'anti-translate';

function App() {
  useEffect(() => {
    AntiTranslate.init({
      mode: 'prevent',
      autoRevert: true
    });

    return () => {
      AntiTranslate.destroy();
    };
  }, []);

  return <div>Your App Content</div>;
}
```

## åµæ¸¬æ©Ÿåˆ¶

Anti-Translate ä½¿ç”¨å¤šç¨®æ–¹æ³•ä¾†åµæ¸¬ç¿»è­¯ï¼š

1. **Font æ¨™ç±¤åµæ¸¬** - Chrome ç¿»è­¯æœƒåŒ…è£¹ `<font>` æ¨™ç±¤
2. **Lang å±¬æ€§è®ŠåŒ–** - åµæ¸¬ `lang` å±¬æ€§çš„æ”¹è®Š
3. **Translate å±¬æ€§** - æª¢æŸ¥ `translate` å±¬æ€§
4. **ç¿»è­¯é¡åˆ¥** - åµæ¸¬ç¿»è­¯å™¨æ·»åŠ çš„ç‰¹å®š class
5. **MutationObserver** - å³æ™‚ç›£æ§ DOM è®ŠåŒ–

## ç€è¦½å™¨æ”¯æ´

- Chrome (æ¨è–¦)
- Firefox
- Safari
- Edge
- Opera

éœ€è¦æ”¯æ´ ES6 å’Œ MutationObserver APIã€‚

## é–‹ç™¼

### å®‰è£ä¾è³´

```bash
npm install
```

### å»ºç½®

```bash
npm run build
```

### é–‹ç™¼æ¨¡å¼

```bash
npm run dev
```

### æœ¬åœ°æ¸¬è©¦

```bash
npm run serve
```

ç„¶å¾Œé–‹å•Ÿ `http://localhost:8080/examples/demo.html`

## å°ˆæ¡ˆçµæ§‹

```
anti-translate/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ detector.js          # åµæ¸¬ç¿»è­¯çš„æ ¸å¿ƒé‚è¼¯
â”‚   â”‚   â”œâ”€â”€ reverter.js          # é‚„åŸç¿»è­¯çš„é‚è¼¯
â”‚   â”‚   â””â”€â”€ content-backup.js    # å‚™ä»½åŸå§‹å…§å®¹
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â””â”€â”€ warning-modal.js     # è­¦å‘Šå½ˆçª— UI
â”‚   â””â”€â”€ index.js                 # ä¸»è¦å…¥å£å’Œ API
â”œâ”€â”€ dist/                        # æ‰“åŒ…å¾Œçš„æª”æ¡ˆ
â”œâ”€â”€ examples/                    # ä½¿ç”¨ç¯„ä¾‹
â””â”€â”€ README.md
```

## æ³¨æ„äº‹é …

1. Anti-Translate ç„¡æ³• 100% é˜²æ­¢æ‰€æœ‰ç¿»è­¯ï¼Œå› ç‚ºä¸åŒç€è¦½å™¨çš„ç¿»è­¯æ©Ÿåˆ¶å¯èƒ½ä¸åŒ
2. éæ–¼é »ç¹çš„æª¢æŸ¥å¯èƒ½å½±éŸ¿æ•ˆèƒ½ï¼Œå»ºè­°é©ç•¶è¨­ç½® `checkInterval`
3. åœ¨ SPA æ‡‰ç”¨ä¸­ï¼Œå»ºè­°åœ¨è·¯ç”±è®ŠåŒ–æ™‚é‡æ–°åˆå§‹åŒ–
4. é‚„åŸåŠŸèƒ½å¯èƒ½æœƒå½±éŸ¿å‹•æ…‹ç”Ÿæˆçš„å…§å®¹ï¼Œè«‹è¬¹æ…ä½¿ç”¨

## æˆæ¬Š

MIT License

## è²¢ç»

æ­¡è¿æäº¤ Issue å’Œ Pull Requestï¼

## æ›´æ–°æ—¥èªŒ

### 1.0.0

- åˆå§‹ç‰ˆæœ¬ç™¼å¸ƒ
- æ”¯æ´åµæ¸¬å’Œé˜²è­·å…©ç¨®æ¨¡å¼
- æ”¯æ´å‹•æ…‹å…§å®¹ç›£æ§
- æä¾›è­¦å‘Šå½ˆçª— UI
